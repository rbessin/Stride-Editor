/* Toolbar */
.ql-toolbar {
  background: var(--color-tertiary);
  border: none !important;
  border-radius: 6px;
  margin: 4px;
  padding: 8px;
}

.dark .ql-toolbar {
  background: var(--color-tertiary);
}

/* Container */
.ql-container {
  font-family: 'Georgia', serif;
  font-size: 16px;
  border: none !important;
  border-bottom: 1px solid var(--color-tertiary) !important;
}

.dark .ql-container {
  background-color: var(--color-background);
  border-bottom-color: var(--color-tertiary) !important;
}

/* Editor */
/* Editor */
.ql-editor {
  background: var(--color-secondary);
  color: var(--color-foreground);
  min-height: 400px;
  padding: 20px;
  line-height: 1.6;
}

.dark .ql-editor {
  background: var(--color-secondary);  /* Changed from tertiary to background */
  color: var(--color-foreground) !important;
}

/* Placeholder */
.ql-editor.ql-blank::before {
  color: #aaa;
  font-style: italic;
  padding-left: 6px;
}

.dark .ql-editor.ql-blank::before {
  color: rgba(237, 237, 237, 0.5);
}

/* Toolbar buttons */
.ql-toolbar button {
  width: 32px;
  height: 32px;
}

.ql-toolbar button:hover {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

.dark .ql-toolbar button:hover {
  background: rgba(255, 255, 255, 0.1);
}

.ql-toolbar button.ql-active {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}

.dark .ql-toolbar button.ql-active {
  background: rgba(255, 255, 255, 0.15);
}

/* Icons */
.ql-stroke {
  stroke: var(--color-foreground);
}

.ql-fill {
  fill: var(--color-foreground);
}

.dark .ql-stroke {
  stroke: var(--color-foreground) !important;
}

.dark .ql-fill {
  fill: var(--color-foreground) !important;
}

/* Dropdowns */
.ql-picker-label {
  padding: 4px 8px;
  color: var(--color-foreground);
}

.dark .ql-picker-label {
  color: var(--color-foreground) !important;
}

.ql-picker-options {
  background: var(--color-background);
  border: 1px solid var(--color-tertiary);
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.dark .ql-picker-options {
  background: var(--color-secondary);
  border-color: var(--color-tertiary);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

.dark .ql-picker-item {
  color: var(--color-foreground);
}

.dark .ql-picker-item:hover {
  background: var(--color-tertiary);
}

/* Content formatting */
.ql-editor h1 {
  font-size: 2em;
  margin: 0.67em 0;
  color: var(--color-foreground);
}

.ql-editor h2 {
  font-size: 1.5em;
  margin: 0.75em 0;
  color: var(--color-foreground);
}

.ql-editor blockquote {
  border-left: 4px solid var(--color-tertiary);
  padding-left: 16px;
  margin-left: 0;
  color: var(--color-foreground);
  opacity: 0.8;
}

.ql-editor pre {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  padding: 16px;
  color: var(--color-foreground);
}

.dark .ql-editor pre {
  background: rgba(255, 255, 255, 0.05);
}

.ql-editor code {
  background: rgba(0, 0, 0, 0.05);
  padding: 2px 4px;
  border-radius: 3px;
  color: var(--color-foreground);
}

.dark .ql-editor code {
  background: rgba(255, 255, 255, 0.1);
}

.ql-editor a {
  color: var(--color-info);
  text-decoration: underline;
}

/* Lists */
.ql-editor ol,
.ql-editor ul {
  padding-left: 1.5em;
}

.ql-editor li {
  margin: 0.5em 0;
  color: var(--color-foreground);
}

/* Alignment */
.ql-editor .ql-align-center {
  text-align: center;
}

.ql-editor .ql-align-right {
  text-align: right;
}

/* Tooltips */
.ql-tooltip {
  background: var(--color-tertiary);
  color: var(--color-foreground);
  padding: 8px 12px;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.dark .ql-tooltip {
  background: var(--color-secondary);
  box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

.ql-tooltip input {
  background: var(--color-background);
  color: var(--color-foreground);
  border: 1px solid var(--color-tertiary);
  padding: 4px 8px;
  border-radius: 3px;
}

.dark .ql-tooltip input {
  background: var(--color-tertiary);
}

/* Formula (KaTeX) */
.ql-editor .ql-formula {
  color: var(--color-foreground);
}

/* Snow theme specific overrides */
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
  border-color: var(--color-tertiary);
}

.dark .ql-snow .ql-picker.ql-expanded .ql-picker-options {
  border-color: var(--color-tertiary);
}

/* ===== Custom Font Styles ===== */

/* Font picker width adjustment for long names */
.ql-snow .ql-picker.ql-font {
  width: 150px;
}

.ql-snow .ql-picker.ql-font .ql-picker-label {
  padding-right: 20px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Font definitions for editor content */
.ql-font-arial { 
  font-family: Arial, sans-serif; 
}

.ql-font-comic-sans { 
  font-family: "Comic Sans MS", cursive, sans-serif; 
}

.ql-font-courier-new { 
  font-family: "Courier New", monospace; 
}

.ql-font-georgia { 
  font-family: Georgia, serif; 
}

.ql-font-helvetica { 
  font-family: Helvetica, sans-serif; 
}

.ql-font-lucida { 
  font-family: "Lucida Console", monospace; 
}

.ql-font-times-new-roman { 
  font-family: "Times New Roman", serif; 
}

.ql-font-verdana { 
  font-family: Verdana, sans-serif; 
}

/* ===== Toolbar Dropdown Labels ===== */

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="arial"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="arial"]::before {
  content: 'Arial';
  font-family: Arial, sans-serif;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="comic-sans"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="comic-sans"]::before {
  content: 'Comic Sans';
  font-family: "Comic Sans MS", cursive, sans-serif;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="courier-new"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="courier-new"]::before {
  content: 'Courier New';
  font-family: "Courier New", monospace;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="georgia"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="georgia"]::before {
  content: 'Georgia';
  font-family: Georgia, serif;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="helvetica"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="helvetica"]::before {
  content: 'Helvetica';
  font-family: Helvetica, sans-serif;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="lucida"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="lucida"]::before {
  content: 'Lucida';
  font-family: "Lucida Console", monospace;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="times-new-roman"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="times-new-roman"]::before {
  content: 'Times New Roman';
  font-family: "Times New Roman", serif;
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="verdana"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="verdana"]::before {
  content: 'Verdana';
  font-family: Verdana, sans-serif;
}